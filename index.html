<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Catalyst AI Registry</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',system-ui,sans-serif;background:#09090b;color:#e2e8f0;min-height:100vh}
body::before{content:'';position:fixed;inset:0;background-image:radial-gradient(rgba(255,255,255,.03) 1px,transparent 1px);background-size:24px 24px;pointer-events:none;z-index:0}
.wrap{position:relative;z-index:1;max-width:1200px;margin:0 auto;padding:24px}

/* Header */
.hdr{display:flex;align-items:center;gap:14px;margin-bottom:24px}
.hdr-icon{width:40px;height:40px;background:linear-gradient(135deg,#38bdf8,#818cf8);border-radius:10px;display:flex;align-items:center;justify-content:center}
.hdr-icon svg{width:20px;height:20px;fill:none;stroke:#fff;stroke-width:2}
.hdr h1{font-size:22px;font-weight:800;color:#f4f4f5}
.hdr .sub{font-size:12px;color:#64748b;margin-top:2px}

/* Stats */
.stats{display:grid;grid-template-columns:repeat(6,1fr);gap:10px;margin-bottom:24px}
@media(max-width:800px){.stats{grid-template-columns:repeat(3,1fr)}}
.sc{background:rgba(39,39,42,.5);border:1px solid rgba(255,255,255,.06);border-radius:10px;padding:14px;backdrop-filter:blur(12px)}
.sc .v{font-size:26px;font-weight:800;color:#f4f4f5}
.sc .l{font-size:10px;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-top:2px}

/* Cards */
.grid2{display:grid;grid-template-columns:3fr 2fr;gap:16px;margin-bottom:16px}
.grid2e{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}
@media(max-width:800px){.grid2,.grid2e{grid-template-columns:1fr}}
.card{background:rgba(39,39,42,.4);border:1px solid rgba(255,255,255,.06);border-radius:12px;overflow:hidden;backdrop-filter:blur(12px)}
.card-h{padding:14px 18px;border-bottom:1px solid rgba(255,255,255,.04);display:flex;align-items:center;gap:8px}
.card-h .dot{width:7px;height:7px;border-radius:50%}
.card-h h2{font-size:13px;font-weight:600;color:#94a3b8}
.card-b{padding:18px}
.full{margin-bottom:16px}

/* Bars */
.bar{display:flex;align-items:center;margin-bottom:5px}
.bar-n{width:100px;font-size:11px;color:#94a3b8;text-align:right;padding-right:10px;flex-shrink:0}
.bar-t{flex:1;height:24px;background:rgba(255,255,255,.03);border-radius:5px;overflow:hidden}
.bar-f{height:100%;border-radius:5px;display:flex;align-items:center;padding-left:8px;font-size:10px;font-weight:700;color:#fff;transition:width 1s cubic-bezier(.4,0,.2,1)}

/* Link table */
.lt{width:100%;border-collapse:collapse;font-size:11px}
.lt th{text-align:left;color:#64748b;font-size:9px;text-transform:uppercase;letter-spacing:.5px;padding:5px 6px;border-bottom:1px solid rgba(255,255,255,.06)}
.lt td{padding:5px 6px;border-bottom:1px solid rgba(255,255,255,.03)}
.lt tr:hover{background:rgba(255,255,255,.02)}
.badge{display:inline-block;padding:1px 6px;border-radius:3px;font-size:9px;font-weight:600}

/* D3 */
#network{width:100%;height:500px;position:relative}
#network svg{width:100%;height:100%}
.node-label{font-size:10px;fill:#e2e8f0;font-weight:600;pointer-events:none;text-anchor:middle}
.tooltip{position:absolute;background:rgba(24,24,27,.95);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:10px 14px;font-size:11px;pointer-events:none;opacity:0;transition:opacity .15s;z-index:10;backdrop-filter:blur(8px)}

/* Tag grid */
.tg{display:grid;grid-template-columns:repeat(4,1fr);gap:6px}
.tc{padding:8px;border-radius:6px;text-align:center;transition:transform .15s}
.tc:hover{transform:scale(1.05)}
.tc .tn{font-size:11px;font-weight:600;color:#e2e8f0}
.tc .tv{font-size:10px;color:#94a3b8;margin-top:1px}

/* Donut */
.art-row{display:flex;align-items:center;gap:20px}
.donut-w{position:relative;width:120px;height:120px;flex-shrink:0}
.donut-c{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}
.donut-c .p{font-size:22px;font-weight:800;color:#f4f4f5}
.donut-c .pl{font-size:9px;color:#64748b}
.art-l{display:grid;grid-template-columns:1fr 1fr;gap:3px 14px;font-size:11px}
.art-l .ai{display:flex;align-items:center;gap:5px}
.art-l .ad{width:5px;height:5px;border-radius:50%;flex-shrink:0}

/* Charts */
.chart-wrap{height:220px;position:relative}

/* Arch */
.arch{display:flex;flex-direction:column;gap:10px}
.arch-r{display:flex;gap:10px}
@media(max-width:600px){.arch-r{flex-direction:column}}
.arch-l{flex:1;background:rgba(15,15,20,.6);border:1px solid rgba(255,255,255,.06);border-radius:8px;padding:14px}
.arch-l h3{font-size:12px;font-weight:700;margin-bottom:8px;padding-bottom:6px}
.pills{display:flex;flex-wrap:wrap;gap:5px}
.pill{font-size:10px;font-weight:600;padding:3px 8px;border-radius:14px;color:#09090b}
.arch-mid{text-align:center;color:#3f3f46;font-size:11px;padding:6px 0}

/* Footer */
.footer{text-align:center;padding:32px 0 16px;color:#3f3f46;font-size:11px}
</style>
</head>
<body>
<div class="wrap">

<!-- HEADER -->
<div class="hdr">
  <div class="hdr-icon"><svg viewBox="0 0 24 24"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" stroke-linejoin="round"/></svg></div>
  <div><h1>Catalyst AI Registry</h1><div class="sub">Mission Control · Live Data · Feb 19, 2026</div></div>
</div>

<!-- STATS -->
<div class="stats" id="stats"></div>

<!-- ENTITY BARS + LINK TABLE -->
<div class="grid2">
  <div class="card">
    <div class="card-h"><div class="dot" style="background:#38bdf8"></div><h2>Entity Distribution · 735 total</h2></div>
    <div class="card-b" id="bars"></div>
  </div>
  <div class="card">
    <div class="card-h"><div class="dot" style="background:#4ade80"></div><h2>Link Graph · 2,425 connections</h2></div>
    <div class="card-b"><table class="lt" id="ltable"></table></div>
  </div>
</div>

<!-- D3 NETWORK GRAPH -->
<div class="card full">
  <div class="card-h"><div class="dot" style="background:#fbbf24"></div><h2>Entity Relationship Network — Interactive Force Graph</h2></div>
  <div class="card-b"><div id="network"></div></div>
</div>

<!-- DOMAIN RADAR + TOP LINKED -->
<div class="grid2e">
  <div class="card">
    <div class="card-h"><div class="dot" style="background:#818cf8"></div><h2>Domain Distribution</h2></div>
    <div class="card-b"><div class="chart-wrap"><canvas id="domainChart"></canvas></div></div>
  </div>
  <div class="card">
    <div class="card-h"><div class="dot" style="background:#f87171"></div><h2>Most Connected Entities</h2></div>
    <div class="card-b" id="topLinked"></div>
  </div>
</div>

<!-- TAG COVERAGE + ARTIFACT HEALTH -->
<div class="grid2e">
  <div class="card">
    <div class="card-h"><div class="dot" style="background:#c084fc"></div><h2>Tag Namespace Coverage</h2></div>
    <div class="card-b"><div class="tg" id="tagGrid"></div></div>
  </div>
  <div class="card">
    <div class="card-h"><div class="dot" style="background:#2dd4bf"></div><h2>Artifact Health · 52.5%</h2></div>
    <div class="card-b">
      <div class="art-row">
        <div class="donut-w"><canvas id="donut"></canvas><div class="donut-c"><div class="p">52.5%</div><div class="pl">with artifacts</div></div></div>
        <div class="art-l" id="artList"></div>
      </div>
    </div>
  </div>
</div>

<!-- AVG TAGS + KB QUALITY -->
<div class="grid2e">
  <div class="card">
    <div class="card-h"><div class="dot" style="background:#fb923c"></div><h2>Avg Tags per Entity Type</h2></div>
    <div class="card-b"><div class="chart-wrap"><canvas id="tagsChart"></canvas></div></div>
  </div>
  <div class="card">
    <div class="card-h"><div class="dot" style="background:#f472b6"></div><h2>KB Variant Depth (avg chars)</h2></div>
    <div class="card-b"><div class="chart-wrap"><canvas id="kbChart"></canvas></div></div>
  </div>
</div>

<!-- ARCHITECTURE -->
<div class="card full">
  <div class="card-h"><div class="dot" style="background:#e879f9"></div><h2>System Architecture</h2></div>
  <div class="card-b" id="arch"></div>
</div>

<div class="footer">Catalyst AI Registry · Higher Learning Technologies · Powered by Supabase</div>
</div>

<script>
const C={skill:'#38bdf8',recipe:'#4ade80',content_type:'#fbbf24',metric:'#c084fc',kb:'#f87171',style:'#a78bfa',tool:'#fb923c',prompt:'#f472b6',channel:'#60a5fa',rubric:'#a3e635',schema:'#34d399',playbook:'#2dd4bf',bundle:'#67e8f9',lint_rule:'#e879f9',agent:'#818cf8',lint_ruleset:'#eab308'};

// ─── STATS ───
const stats=[{l:'Entities',v:735},{l:'Types',v:16},{l:'Links',v:2425},{l:'Apps',v:208},{l:'Revisions',v:1620},{l:'Artifacts',v:850}];
const sEl=document.getElementById('stats');
stats.forEach(s=>{const d=document.createElement('div');d.className='sc';d.innerHTML=`<div class="v" data-t="${s.v}">0</div><div class="l">${s.l}</div>`;sEl.appendChild(d)});
function animV(el,end){let st=null;const step=ts=>{if(!st)st=ts;const p=Math.min((ts-st)/1200,1);el.textContent=Math.floor(p*end).toLocaleString();if(p<1)requestAnimationFrame(step);else el.textContent=end.toLocaleString()};requestAnimationFrame(step)}
document.querySelectorAll('.v[data-t]').forEach(el=>animV(el,+el.dataset.t));

// ─── ENTITY BARS ───
const entities=[{n:'Skills',v:160,c:C.skill},{n:'Recipes',v:118,c:C.recipe},{n:'Content Types',v:113,c:C.content_type},{n:'Metrics',v:55,c:C.metric},{n:'KB Items',v:54,c:C.kb},{n:'Styles',v:48,c:C.style},{n:'Tools',v:42,c:C.tool},{n:'Prompts',v:31,c:C.prompt},{n:'Channels',v:27,c:C.channel},{n:'Rubrics',v:25,c:C.rubric},{n:'Schemas',v:21,c:C.schema},{n:'Playbooks',v:13,c:C.playbook},{n:'Bundles',v:11,c:C.bundle},{n:'Lint Rules',v:8,c:C.lint_rule},{n:'Agents',v:6,c:C.agent},{n:'Lint Rulesets',v:3,c:C.lint_ruleset}];
const bEl=document.getElementById('bars');
entities.forEach((e,i)=>{const d=document.createElement('div');d.className='bar';d.innerHTML=`<div class="bar-n">${e.n}</div><div class="bar-t"><div class="bar-f" style="width:0%;background:${e.c}">${e.v}</div></div>`;bEl.appendChild(d);setTimeout(()=>d.querySelector('.bar-f').style.width=`${(e.v/160)*100}%`,80+i*40)});

// ─── LINK TABLE ───
const links=[{t:'requires',v:714,c:'#ef4444'},{t:'recommends',v:555,c:'#3b82f6'},{t:'related',v:506,c:'#6b7280'},{t:'uses_tool',v:210,c:'#fb923c'},{t:'uses_prompt',v:125,c:'#a78bfa'},{t:'bundle_member',v:107,c:'#d946ef'},{t:'uses_kb',v:70,c:'#60a5fa'},{t:'alternate',v:67,c:'#78716c'},{t:'pairs_with',v:59,c:'#ec4899'},{t:'often_follows',v:9,c:'#84cc16'},{t:'prerequisite',v:2,c:'#fca5a5'},{t:'parent',v:1,c:'#5eead4'}];
const ltEl=document.getElementById('ltable');
ltEl.innerHTML='<thead><tr><th>Type</th><th>Count</th><th></th></tr></thead><tbody>'+links.map(l=>`<tr><td><span class="badge" style="background:${l.c}22;color:${l.c}">${l.t}</span></td><td style="color:#f4f4f5;font-weight:600">${l.v}</td><td><div style="width:${(l.v/714)*100}%;height:4px;background:${l.c};border-radius:2px;min-width:3px"></div></td></tr>`).join('')+'</tbody>';

// ─── D3 FORCE NETWORK ───
(function(){
const w=document.getElementById('network');
const width=w.clientWidth||800, height=500;
const svg=d3.select('#network').append('svg').attr('viewBox',`0 0 ${width} ${height}`);

// Defs for gradients
const defs=svg.append('defs');

const nodes=[
  {id:'content_type',label:'Content Types',count:113,color:C.content_type,r:30},
  {id:'skill',label:'Skills',count:160,color:C.skill,r:35},
  {id:'recipe',label:'Recipes',count:118,color:C.recipe,r:28},
  {id:'metric',label:'Metrics',count:55,color:C.metric,r:20},
  {id:'kb',label:'KB Items',count:54,color:C.kb,r:20},
  {id:'style',label:'Styles',count:48,color:C.style,r:18},
  {id:'tool',label:'Tools',count:42,color:C.tool,r:18},
  {id:'prompt',label:'Prompts',count:31,color:C.prompt,r:16},
  {id:'channel',label:'Channels',count:27,color:C.channel,r:15},
  {id:'rubric',label:'Rubrics',count:25,color:C.rubric,r:14},
  {id:'schema',label:'Schemas',count:21,color:C.schema,r:13},
  {id:'playbook',label:'Playbooks',count:13,color:C.playbook,r:11},
  {id:'bundle',label:'Bundles',count:11,color:C.bundle,r:10},
  {id:'lint_rule',label:'Lint Rules',count:8,color:C.lint_rule,r:9},
  {id:'agent',label:'Agents',count:6,color:C.agent,r:8},
  {id:'lint_ruleset',label:'Lint Rulesets',count:3,color:C.lint_ruleset,r:7}
];

const edgeData=[
  {s:'content_type',t:'recipe',v:113},{s:'content_type',t:'tool',v:113},{s:'content_type',t:'prompt',v:113},
  {s:'content_type',t:'rubric',v:113},{s:'content_type',t:'metric',v:113},{s:'content_type',t:'style',v:113},
  {s:'content_type',t:'channel',v:113},{s:'recipe',t:'schema',v:118},{s:'recipe',t:'style',v:118},
  {s:'recipe',t:'channel',v:118},{s:'skill',t:'tool',v:82},{s:'skill',t:'kb',v:68},
  {s:'metric',t:'rubric',v:76},{s:'kb',t:'content_type',v:46},{s:'kb',t:'channel',v:46},
  {s:'kb',t:'style',v:46},{s:'playbook',t:'bundle',v:30},{s:'playbook',t:'prompt',v:11}
];

const edgeLinks=edgeData.map(e=>({source:e.s,target:e.t,value:e.v}));

// Create gradients for each link
edgeData.forEach((e,i)=>{
  const g=defs.append('linearGradient').attr('id','lg'+i).attr('gradientUnits','userSpaceOnUse');
  const sc=nodes.find(n=>n.id===e.s).color;
  const tc=nodes.find(n=>n.id===e.t).color;
  g.append('stop').attr('offset','0%').attr('stop-color',sc).attr('stop-opacity',0.6);
  g.append('stop').attr('offset','100%').attr('stop-color',tc).attr('stop-opacity',0.6);
});

const sim=d3.forceSimulation(nodes)
  .force('link',d3.forceLink(edgeLinks).id(d=>d.id).distance(120).strength(0.3))
  .force('charge',d3.forceManyBody().strength(-400))
  .force('center',d3.forceCenter(width/2,height/2))
  .force('collision',d3.forceCollide().radius(d=>d.r+15));

const link=svg.append('g').selectAll('line').data(edgeLinks).join('line')
  .attr('stroke',(d,i)=>'url(#lg'+i+')')
  .attr('stroke-width',d=>Math.max(1,d.value/30))
  .attr('stroke-opacity',0.5);

const node=svg.append('g').selectAll('g').data(nodes).join('g')
  .call(d3.drag().on('start',(e,d)=>{if(!e.active)sim.alphaTarget(.3).restart();d.fx=d.x;d.fy=d.y})
  .on('drag',(e,d)=>{d.fx=e.x;d.fy=e.y})
  .on('end',(e,d)=>{if(!e.active)sim.alphaTarget(0);d.fx=null;d.fy=null}));

node.append('circle').attr('r',d=>d.r).attr('fill',d=>d.color).attr('fill-opacity',0.8)
  .attr('stroke',d=>d.color).attr('stroke-width',2).attr('stroke-opacity',0.3)
  .style('cursor','grab')
  .on('mouseover',function(e,d){d3.select(this).transition().duration(200).attr('r',d.r+5).attr('fill-opacity',1).attr('stroke-opacity',0.6)})
  .on('mouseout',function(e,d){d3.select(this).transition().duration(200).attr('r',d.r).attr('fill-opacity',0.8).attr('stroke-opacity',0.3)});

node.append('text').attr('class','node-label').attr('dy',d=>d.r+14).text(d=>d.label);
node.append('text').attr('class','node-label').attr('dy',d=>d.r+25).attr('fill','#64748b').attr('font-size','9px').text(d=>d.count);

sim.on('tick',()=>{
  link.attr('x1',d=>d.source.x).attr('y1',d=>d.source.y).attr('x2',d=>d.target.x).attr('y2',d=>d.target.y);
  // Update gradients
  edgeData.forEach((e,i)=>{
    const g=defs.select('#lg'+i);
    const sl=edgeLinks[i];
    g.attr('x1',sl.source.x).attr('y1',sl.source.y).attr('x2',sl.target.x).attr('y2',sl.target.y);
  });
  node.attr('transform',d=>`translate(${d.x},${d.y})`);
});
})();

// ─── DOMAIN CHART (Polar Area) ───
const domains=[{l:'engineering',v:49},{l:'writing',v:38},{l:'education',v:30},{l:'mcp',v:27},{l:'data',v:26},{l:'ai-sdk',v:20},{l:'marketing',v:18},{l:'design',v:5},{l:'cms',v:4},{l:'product',v:4},{l:'database',v:3},{l:'nursing',v:2},{l:'dental',v:2}];
new Chart(document.getElementById('domainChart'),{
  type:'polarArea',
  data:{labels:domains.map(d=>d.l),datasets:[{data:domains.map(d=>d.v),backgroundColor:['#38bdf8','#4ade80','#fbbf24','#c084fc','#f87171','#a78bfa','#fb923c','#f472b6','#60a5fa','#a3e635','#34d399','#2dd4bf','#67e8f9'].map(c=>c+'88')}]},
  options:{responsive:true,maintainAspectRatio:false,scales:{r:{grid:{color:'rgba(255,255,255,.05)'},ticks:{display:false}}},plugins:{legend:{display:false}}}
});

// ─── TOP LINKED ENTITIES ───
const topLinked=[{n:'Web',t:'channel',v:165},{n:'Find Skills',t:'skill',v:74},{n:'Bash Run',t:'tool',v:64},{n:'Tools Guide Overview',t:'kb',v:59},{n:'Golden Cohort',t:'bundle',v:53},{n:'Engagement V1',t:'rubric',v:51},{n:'Systematic Debugging',t:'skill',v:49},{n:'Assessment',t:'style',v:46},{n:'Content Quality',t:'rubric',v:39},{n:'Article Standard',t:'content_type',v:38}];
const tlEl=document.getElementById('topLinked');
topLinked.forEach((e,i)=>{
  const d=document.createElement('div');
  d.style.cssText='display:flex;align-items:center;gap:8px;padding:4px 0;border-bottom:1px solid rgba(255,255,255,.03)';
  d.innerHTML=`<span style="font-size:11px;color:#64748b;width:16px">${i+1}</span><span style="width:6px;height:6px;border-radius:50%;background:${C[e.t]};flex-shrink:0"></span><span style="font-size:11px;color:#e2e8f0;flex:1">${e.n}</span><span style="font-size:10px;color:#64748b">${e.t}</span><span style="font-size:11px;font-weight:700;color:#f4f4f5">${e.v}</span>`;
  tlEl.appendChild(d);
});

// ─── TAG GRID ───
const tags=[{n:'scope',v:733},{n:'status',v:732},{n:'modality',v:473},{n:'format',v:426},{n:'channel',v:248},{n:'source',v:232},{n:'domain',v:227},{n:'action',v:175},{n:'family',v:115},{n:'stage',v:103},{n:'surface',v:78},{n:'partner',v:65},{n:'tool_type',v:52},{n:'provider',v:46},{n:'dept',v:16},{n:'persona_role',v:6}];
const tgEl=document.getElementById('tagGrid');
tags.forEach(t=>{const op=Math.max(.08,t.v/733*.7);const d=document.createElement('div');d.className='tc';d.style.background=`rgba(139,92,246,${op})`;d.innerHTML=`<div class="tn">${t.n}</div><div class="tv">${t.v}</div>`;tgEl.appendChild(d)});

// ─── DONUT ───
new Chart(document.getElementById('donut'),{type:'doughnut',data:{labels:['With Artifacts','Without'],datasets:[{data:[850,770],backgroundColor:['#2dd4bf','#27272a'],borderWidth:0}]},options:{cutout:'72%',plugins:{legend:{display:false},tooltip:{enabled:false}},responsive:true,maintainAspectRatio:true}});
const artifacts=[{n:'Skills',v:271,c:C.skill},{n:'Recipes',v:118,c:C.recipe},{n:'Content Types',v:113,c:C.content_type},{n:'Metrics',v:59,c:C.metric},{n:'KB Items',v:54,c:C.kb},{n:'Styles',v:48,c:C.style},{n:'Tools',v:39,c:C.tool},{n:'Prompts',v:31,c:C.prompt},{n:'Channels',v:30,c:C.channel},{n:'Rubrics',v:25,c:C.rubric}];
const alEl=document.getElementById('artList');
artifacts.forEach(a=>alEl.innerHTML+=`<div class="ai"><div class="ad" style="background:${a.c}"></div><span style="color:#94a3b8">${a.n}</span><span style="color:#f4f4f5;font-weight:600;margin-left:auto">${a.v}</span></div>`);

// ─── AVG TAGS CHART ───
const avgTags=[{t:'tool',v:8.8},{t:'agent',v:8.3},{t:'prompt',v:7.1},{t:'kb',v:7.1},{t:'schema',v:6.8},{t:'skill',v:6.1},{t:'content_type',v:5.6},{t:'recipe',v:4.6},{t:'style',v:4.5},{t:'metric',v:4.1},{t:'channel',v:3.8},{t:'playbook',v:3.3},{t:'rubric',v:3},{t:'lint_rule',v:3},{t:'bundle',v:2.9}];
new Chart(document.getElementById('tagsChart'),{
  type:'bar',
  data:{labels:avgTags.map(d=>d.t),datasets:[{data:avgTags.map(d=>d.v),backgroundColor:avgTags.map(d=>(C[d.t]||'#666')+'cc'),borderRadius:3}]},
  options:{indexAxis:'y',responsive:true,maintainAspectRatio:false,scales:{x:{grid:{color:'rgba(255,255,255,.04)'},ticks:{color:'#64748b',font:{size:9}}},y:{grid:{display:false},ticks:{color:'#94a3b8',font:{size:9}}}},plugins:{legend:{display:false}}}
});

// ─── KB QUALITY CHART ───
new Chart(document.getElementById('kbChart'),{
  type:'bar',
  data:{labels:['Snippet','Distilled','Full'],datasets:[{label:'Avg Length',data:[486,1325,2376],backgroundColor:['#f87171aa','#fbbf24aa','#4ade80aa'],borderRadius:4},{label:'Max Length',data:[3017,2026,4381],backgroundColor:['#f8717144','#fbbf2444','#4ade8044'],borderRadius:4}]},
  options:{responsive:true,maintainAspectRatio:false,scales:{x:{grid:{color:'rgba(255,255,255,.04)'},ticks:{color:'#94a3b8'}},y:{grid:{color:'rgba(255,255,255,.04)'},ticks:{color:'#64748b',font:{size:9}}}},plugins:{legend:{labels:{color:'#94a3b8',font:{size:10}}}}}
});

// ─── ARCHITECTURE ───
document.getElementById('arch').innerHTML=`
<div class="arch">
  <div class="arch-r">
    <div class="arch-l"><h3 style="border-bottom:2px solid ${C.content_type};color:${C.content_type}">Content Pipeline</h3><div class="pills"><span class="pill" style="background:${C.content_type}">Content Types · 113</span><span class="pill" style="background:${C.recipe}">Recipes · 118</span><span class="pill" style="background:${C.schema}">Schemas · 21</span><span class="pill" style="background:${C.style}">Styles · 48</span><span class="pill" style="background:${C.channel}">Channels · 27</span></div></div>
    <div class="arch-l"><h3 style="border-bottom:2px solid ${C.skill};color:${C.skill}">Support Layer</h3><div class="pills"><span class="pill" style="background:${C.skill}">Skills · 160</span><span class="pill" style="background:${C.kb}">KB Items · 54</span><span class="pill" style="background:${C.tool}">Tools · 42</span><span class="pill" style="background:${C.prompt}">Prompts · 31</span></div></div>
  </div>
  <div class="arch-mid">▼ entity_links (2,425) · entity_tags · entity_revisions · entity_embeddings ▼</div>
  <div class="arch-r">
    <div class="arch-l"><h3 style="border-bottom:2px solid ${C.metric};color:${C.metric}">Evaluation Layer</h3><div class="pills"><span class="pill" style="background:${C.metric}">Metrics · 55</span><span class="pill" style="background:${C.rubric}">Rubrics · 25</span><span class="pill" style="background:${C.lint_rule}">Lint Rules · 8</span></div></div>
    <div class="arch-l"><h3 style="border-bottom:2px solid ${C.playbook};color:${C.playbook}">Execution Layer</h3><div class="pills"><span class="pill" style="background:${C.playbook}">Playbooks · 13</span><span class="pill" style="background:${C.bundle}">Bundles · 11</span><span class="pill" style="background:${C.agent}">Agents · 6</span></div></div>
  </div>
</div>`;
</script>
</body>
</html>
