<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalyst AI Registry</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-skills: #38bdf8;
            --color-recipes: #4ade80;
            --color-content-types: #fbbf24;
            --color-metrics: #c084fc;
            --color-kb-items: #f87171;
            --color-styles: #a78bfa;
            --color-tools: #fb923c;
            --color-prompts: #f472b6;
            --color-channels: #60a5fa;
            --color-rubrics: #a3e635;
            --color-schemas: #34d399;
            --color-playbooks: #2dd4bf;
            --color-bundles: #67e8f9;
            --color-lint-rules: #e879f9;
            --color-agents: #818cf8;
            --color-lint-rulesets: #eab308;

            --bg-color: #09090b;
            --card-bg-color: rgba(23, 23, 23, 0.5);
            --border-color: rgba(255, 255, 255, 0.1);
            --text-primary: #f4f4f5;
            --text-secondary: #a1a1aa;
            --text-tertiary: #52525b;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            background-image:
                radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 0);
            background-size: 24px 24px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 1.5rem;
            width: 100%;
        }

        .col-span-12 { grid-column: span 12; }
        .col-span-6 { grid-column: span 6; }
        .col-span-4 { grid-column: span 4; }
        .col-span-8 { grid-column: span 8; }

        @media (max-width: 1024px) {
            .col-span-6, .col-span-4, .col-span-8 {
                grid-column: span 12;
            }
        }

        .card {
            background: var(--card-bg-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            height: 100%;
        }

        .card-header {
            margin-bottom: 1.5rem;
        }

        .card-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .card-subtitle {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        /* Header */
        header {
            text-align: center;
            padding: 2rem 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 2rem;
        }
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }
        .logo svg {
            width: 32px;
            height: 32px;
        }
        .logo h1 {
            font-size: 1.875rem;
            font-weight: 700;
            letter-spacing: -0.025em;
        }
        .header-subtitle {
            color: var(--text-secondary);
        }

        /* Stat Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }
        .stat-card {
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            text-align: left;
            position: relative;
            overflow: hidden;
        }
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-color, #a855f7), transparent);
        }
        .stat-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }
        .stat-value {
            font-size: 2rem;
            font-weight: 600;
            line-height: 1;
        }
        
        /* Charts */
        canvas {
            max-height: 400px;
        }

        /* Link Graph Table */
        .link-table ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .link-item {
            display: grid;
            grid-template-columns: 140px 1fr 50px;
            align-items: center;
            gap: 1rem;
            font-size: 0.875rem;
        }
        .link-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 9999px;
            font-weight: 500;
            font-size: 0.75rem;
            text-transform: uppercase;
        }
        .link-bar-container {
            width: 100%;
            height: 8px;
            background-color: rgba(255,255,255,0.05);
            border-radius: 4px;
            overflow: hidden;
        }
        .link-bar {
            height: 100%;
            border-radius: 4px;
        }
        .link-count {
            text-align: right;
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        /* Connection Flow SVG */
        #connection-flow-svg {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }
        .flow-node text {
            font-size: 10px;
            font-weight: 500;
            fill: #fff;
            text-anchor: middle;
            pointer-events: none;
        }
        .flow-node .node-label-name {
            font-weight: 600;
        }
        .flow-node .node-label-count {
            fill: rgba(255,255,255,0.7);
        }
        .flow-path {
            fill: none;
            mix-blend-mode: screen;
            opacity: 0.8;
        }
        
        /* Tag Namespace Coverage */
        .tag-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
        }
        .tag-cell {
            padding: 0.75rem;
            border-radius: 6px;
            background-color: var(--cell-bg, rgba(192, 132, 252, 0.1));
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.875rem;
        }
        .tag-cell .name { font-weight: 500; }
        .tag-cell .value { color: var(--text-secondary); }

        /* Artifact Health */
        .artifact-health-container {
            display: flex;
            align-items: center;
            gap: 2rem;
        }
        .donut-chart-wrapper {
            position: relative;
            width: 180px;
            height: 180px;
        }
        .donut-center-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        .donut-percentage {
            font-size: 2rem;
            font-weight: 600;
        }
        .artifact-list ul {
            list-style: none;
        }
        .artifact-list li {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }
        .artifact-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        /* App Portfolio */
        .portfolio-container {
            display: flex;
            width: 100%;
            height: 180px;
            gap: 4px;
            border-radius: 8px;
            overflow: hidden;
        }
        .portfolio-block {
            height: 100%;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 0.75rem;
            color: #fff;
            font-weight: 600;
            font-size: 0.875rem;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
        }

        /* System Architecture */
        .arch-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        .arch-card {
            border-left: 4px solid var(--accent-color);
            padding-left: 1.5rem;
        }
        .arch-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        .arch-pills {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        .arch-pill {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            padding: 4px 10px;
            border-radius: 9999px;
            background-color: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .arch-pill-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        .arch-arrow-row {
            grid-column: span 2;
            text-align: center;
            padding: 1.5rem 0;
            font-size: 1rem;
            color: var(--text-secondary);
            border-top: 1px dashed var(--border-color);
            border-bottom: 1px dashed var(--border-color);
            margin: 1.5rem 0;
        }

        @media (max-width: 768px) {
            .container { padding: 1rem; }
            .grid-container, .arch-grid { gap: 1rem; }
            .arch-grid, .arch-arrow-row { grid-column: span 12 !important; }
            .artifact-health-container { flex-direction: column; }
            .tag-grid { grid-template-columns: repeat(2, 1fr); }
            .header-subtitle { font-size: 0.875rem; }
            .logo h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <div class="logo">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                <h1>Catalyst AI Registry</h1>
            </div>
            <p class="header-subtitle">Mission Control Dashboard &middot; Live Data &middot; Feb 19, 2026</p>

            <div class="stats-grid">
                <div class="stat-card" style="--accent-color: #38bdf8;">
                    <div class="stat-label">Total Entities</div>
                    <div class="stat-value" data-target="735">0</div>
                </div>
                <div class="stat-card" style="--accent-color: #4ade80;">
                    <div class="stat-label">Entity Types</div>
                    <div class="stat-value" data-target="16">0</div>
                </div>
                <div class="stat-card" style="--accent-color: #fbbf24;">
                    <div class="stat-label">Total Links</div>
                    <div class="stat-value" data-target="2425">0</div>
                </div>
                <div class="stat-card" style="--accent-color: #c084fc;">
                    <div class="stat-label">Connected Apps</div>
                    <div class="stat-value" data-target="208">0</div>
                </div>
                <div class="stat-card" style="--accent-color: #f87171;">
                    <div class="stat-label">Revisions</div>
                    <div class="stat-value" data-target="1620">0</div>
                </div>
                <div class="stat-card" style="--accent-color: #a78bfa;">
                    <div class="stat-label">With Artifacts</div>
                    <div class="stat-value" data-target="850">0</div>
                </div>
            </div>
        </header>

        <main class="grid-container">
            <!-- Section 2: Entity Distribution & Link Graph -->
            <div class="col-span-6 card">
                <div class="card-header">
                    <h2 class="card-title">Entity Distribution</h2>
                    <p class="card-subtitle">Count of entities by type, sorted descending.</p>
                </div>
                <canvas id="entityDistributionChart"></canvas>
            </div>
            <div class="col-span-6 card">
                <div class="card-header">
                    <h2 class="card-title">Link Graph</h2>
                    <p class="card-subtitle">Distribution of the 2,425 connections by link type.</p>
                </div>
                <div class="link-table">
                    <ul id="linkGraphList"></ul>
                </div>
            </div>

            <!-- Section 3: Connection Flow -->
            <div class="col-span-12 card">
                <div class="card-header">
                    <h2 class="card-title">Connection Flow</h2>
                    <p class="card-subtitle">Visual representation of primary entity relationships.</p>
                </div>
                <svg id="connection-flow-svg" viewBox="0 0 1200 650" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <filter id="nodeGlow" x="-50%" y="-50%" width="200%" height="200%">
                            <feGaussianBlur stdDeviation="3" result="coloredBlur"></feGaussianBlur>
                            <feMerge>
                                <feMergeNode in="coloredBlur"></feMergeNode>
                                <feMergeNode in="SourceGraphic"></feMergeNode>
                            </feMerge>
                        </filter>
                        <!-- Define gradients for paths -->
                        <linearGradient id="g-ct-recipes"><stop offset="0%" stop-color="#fbbf24"/><stop offset="100%" stop-color="#4ade80"/></linearGradient>
                        <linearGradient id="g-ct-tools"><stop offset="0%" stop-color="#fbbf24"/><stop offset="100%" stop-color="#fb923c"/></linearGradient>
                        <linearGradient id="g-ct-prompts"><stop offset="0%" stop-color="#fbbf24"/><stop offset="100%" stop-color="#f472b6"/></linearGradient>
                        <linearGradient id="g-ct-rubrics"><stop offset="0%" stop-color="#fbbf24"/><stop offset="100%" stop-color="#a3e635"/></linearGradient>
                        <linearGradient id="g-ct-metrics"><stop offset="0%" stop-color="#fbbf24"/><stop offset="100%" stop-color="#c084fc"/></linearGradient>
                        <linearGradient id="g-ct-styles"><stop offset="0%" stop-color="#fbbf24"/><stop offset="100%" stop-color="#a78bfa"/></linearGradient>
                        <linearGradient id="g-ct-channels"><stop offset="0%" stop-color="#fbbf24"/><stop offset="100%" stop-color="#60a5fa"/></linearGradient>
                        <linearGradient id="g-r-schemas"><stop offset="0%" stop-color="#4ade80"/><stop offset="100%" stop-color="#34d399"/></linearGradient>
                        <linearGradient id="g-r-styles"><stop offset="0%" stop-color="#4ade80"/><stop offset="100%" stop-color="#a78bfa"/></linearGradient>
                        <linearGradient id="g-r-channels"><stop offset="0%" stop-color="#4ade80"/><stop offset="100%" stop-color="#60a5fa"/></linearGradient>
                        <linearGradient id="g-s-tools"><stop offset="0%" stop-color="#38bdf8"/><stop offset="100%" stop-color="#fb923c"/></linearGradient>
                        <linearGradient id="g-s-kb"><stop offset="0%" stop-color="#38bdf8"/><stop offset="100%" stop-color="#f87171"/></linearGradient>
                        <linearGradient id="g-m-rubrics"><stop offset="0%" stop-color="#c084fc"/><stop offset="100%" stop-color="#a3e635"/></linearGradient>
                        <linearGradient id="g-kb-ct"><stop offset="0%" stop-color="#f87171"/><stop offset="100%" stop-color="#fbbf24"/></linearGradient>
                        <linearGradient id="g-kb-channels"><stop offset="0%" stop-color="#f87171"/><stop offset="100%" stop-color="#60a5fa"/></linearGradient>
                        <linearGradient id="g-kb-styles"><stop offset="0%" stop-color="#f87171"/><stop offset="100%" stop-color="#a78bfa"/></linearGradient>
                    </defs>
                    <!-- Paths -->
                    <g>
                        <path class="flow-path" d="M 450 325 C 550 200, 700 150, 800 125" stroke="url(#g-ct-recipes)" stroke-width="4.7"/>
                        <path class="flow-path" d="M 450 325 C 550 450, 700 500, 800 525" stroke="url(#g-ct-tools)" stroke-width="4.7"/>
                        <path class="flow-path" d="M 450 325 C 350 450, 200 500, 100 525" stroke="url(#g-ct-prompts)" stroke-width="4.7"/>
                        <path class="flow-path" d="M 450 325 Q 300 225, 100 125" stroke="url(#g-ct-rubrics)" stroke-width="4.7"/>
                        <path class="flow-path" d="M 450 325 Q 600 300, 800 275" stroke="url(#g-ct-metrics)" stroke-width="4.7"/>
                        <path class="flow-path" d="M 450 325 Q 600 350, 800 375" stroke="url(#g-ct-styles)" stroke-width="4.7"/>
                        <path class="flow-path" d="M 450 325 Q 300 425, 100 425" stroke="url(#g-ct-channels)" stroke-width="4.7"/>
                        <path class="flow-path" d="M 800 125 Q 925 100, 1050 150" stroke="url(#g-r-schemas)" stroke-width="4.8"/>
                        <path class="flow-path" d="M 800 125 Q 850 250, 800 375" stroke="url(#g-r-styles)" stroke-width="4.8"/>
                        <path class="flow-path" d="M 800 125 Q 500 75, 100 425" stroke="url(#g-r-channels)" stroke-width="4.8"/>
                        <path class="flow-path" d="M 200 150 Q 500 300, 800 525" stroke="url(#g-s-tools)" stroke-width="4.4"/>
                        <path class="flow-path" d="M 200 150 Q 200 300, 200 450" stroke="url(#g-s-kb)" stroke-width="4.2"/>
                        <path class="flow-path" d="M 800 275 Q 400 200, 100 125" stroke="url(#g-m-rubrics)" stroke-width="4.3"/>
                        <path class="flow-path" d="M 200 450 Q 325 387, 450 325" stroke="url(#g-kb-ct)" stroke-width="3.8"/>
                        <path class="flow-path" d="M 200 450 Q 150 437, 100 425" stroke="url(#g-kb-channels)" stroke-width="3.8"/>
                        <path class="flow-path" d="M 200 450 Q 500 412, 800 375" stroke="url(#g-kb-styles)" stroke-width="3.8"/>
                    </g>
                    <!-- Nodes -->
                    <g class="flow-node" transform="translate(450, 325)">
                        <circle r="50" fill="#fbbf24" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">Content Types</tspan></text>
                        <text y="8"><tspan class="node-label-count">113</tspan></text>
                    </g>
                    <g class="flow-node" transform="translate(200, 150)">
                        <circle r="55" fill="#38bdf8" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">Skills</tspan></text>
                        <text y="8"><tspan class="node-label-count">160</tspan></text>
                    </g>
                    <g class="flow-node" transform="translate(800, 125)">
                        <circle r="48" fill="#4ade80" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">Recipes</tspan></text>
                        <text y="8"><tspan class="node-label-count">118</tspan></text>
                    </g>
                    <g class="flow-node" transform="translate(800, 275)">
                        <circle r="38" fill="#c084fc" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">Metrics</tspan></text>
                        <text y="8"><tspan class="node-label-count">55</tspan></text>
                    </g>
                    <g class="flow-node" transform="translate(200, 450)">
                        <circle r="38" fill="#f87171" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">KB Items</tspan></text>
                        <text y="8"><tspan class="node-label-count">54</tspan></text>
                    </g>
                    <g class="flow-node" transform="translate(800, 375)">
                        <circle r="36" fill="#a78bfa" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">Styles</tspan></text>
                        <text y="8"><tspan class="node-label-count">48</tspan></text>
                    </g>
                     <g class="flow-node" transform="translate(800, 525)">
                        <circle r="35" fill="#fb923c" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">Tools</tspan></text>
                        <text y="8"><tspan class="node-label-count">42</tspan></text>
                    </g>
                    <g class="flow-node" transform="translate(100, 525)">
                        <circle r="32" fill="#f472b6" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">Prompts</tspan></text>
                        <text y="8"><tspan class="node-label-count">31</tspan></text>
                    </g>
                    <g class="flow-node" transform="translate(100, 425)">
                        <circle r="30" fill="#60a5fa" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">Channels</tspan></text>
                        <text y="8"><tspan class="node-label-count">27</tspan></text>
                    </g>
                    <g class="flow-node" transform="translate(100, 125)">
                        <circle r="29" fill="#a3e635" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">Rubrics</tspan></text>
                        <text y="8"><tspan class="node-label-count">25</tspan></text>
                    </g>
                    <g class="flow-node" transform="translate(1050, 150)">
                        <circle r="28" fill="#34d399" filter="url(#nodeGlow)"></circle>
                        <text y="-8"><tspan class="node-label-name">Schemas</tspan></text>
                        <text y="8"><tspan class="node-label-count">21</tspan></text>
                    </g>
                </svg>
            </div>

            <!-- Section 4: Tag Coverage & Artifact Health -->
            <div class="col-span-6 card">
                <div class="card-header">
                    <h2 class="card-title">Tag Namespace Coverage</h2>
                    <p class="card-subtitle">Number of entities per tag namespace.</p>
                </div>
                <div class="tag-grid" id="tagCoverageGrid"></div>
            </div>

            <div class="col-span-6 card">
                <div class="card-header">
                    <h2 class="card-title">Artifact Health</h2>
                    <p class="card-subtitle">Breakdown of entities with and without artifacts.</p>
                </div>
                <div class="artifact-health-container">
                    <div class="donut-chart-wrapper">
                        <canvas id="artifactHealthChart"></canvas>
                        <div class="donut-center-text">
                            <div class="donut-percentage">52.5%</div>
                            <div class="card-subtitle">With Artifacts</div>
                        </div>
                    </div>
                    <div class="artifact-list">
                        <ul id="artifactBreakdownList"></ul>
                    </div>
                </div>
            </div>
            
            <!-- Section 5: App Portfolio & Future -->
            <div class="col-span-6 card">
                 <div class="card-header">
                    <h2 class="card-title">App Portfolio</h2>
                    <p class="card-subtitle">Tier distribution for 208 connected applications.</p>
                </div>
                <div class="portfolio-container" id="appPortfolio"></div>
            </div>

            <div class="col-span-6 card" style="display: flex; align-items: center; justify-content: center; flex-direction: column; text-align: center;">
                <h2 class="card-title" style="font-size: 1.5rem; margin-bottom: 0.5rem;">Phase 2 Coming Soon</h2>
                <p class="card-subtitle" style="max-width: 300px;">Entity quality audit, link health, and artifact coverage trends.</p>
            </div>

            <!-- Section 6: System Architecture -->
            <div class="col-span-12 card">
                <div class="card-header">
                    <h2 class="card-title">System Architecture</h2>
                    <p class="card-subtitle">Logical layering of entity types.</p>
                </div>
                <div class="arch-grid" id="systemArchitecture">
                    <div class="arch-card" style="--accent-color: #fbbf24;">
                        <h3 class="arch-title">Content Pipeline</h3>
                        <div class="arch-pills">
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-content-types);"></span>Content Types · 113</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-recipes);"></span>Recipes · 118</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-schemas);"></span>Schemas · 21</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-styles);"></span>Styles · 48</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-channels);"></span>Channels · 27</div>
                        </div>
                    </div>
                    <div class="arch-card" style="--accent-color: #38bdf8;">
                        <h3 class="arch-title">Support Layer</h3>
                        <div class="arch-pills">
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-skills);"></span>Skills · 160</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-kb-items);"></span>KB Items · 54</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-tools);"></span>Tools · 42</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-prompts);"></span>Prompts · 31</div>
                        </div>
                    </div>
                    <div class="arch-arrow-row">
                        entity_links (2,425) &middot; entity_tags &middot; entity_revisions &middot; entity_embeddings
                    </div>
                    <div class="arch-card" style="--accent-color: #c084fc;">
                        <h3 class="arch-title">Evaluation Layer</h3>
                        <div class="arch-pills">
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-metrics);"></span>Metrics · 55</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-rubrics);"></span>Rubrics · 25</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-lint-rules);"></span>Lint Rules · 8</div>
                        </div>
                    </div>
                    <div class="arch-card" style="--accent-color: #2dd4bf;">
                        <h3 class="arch-title">Execution Layer</h3>
                        <div class="arch-pills">
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-playbooks);"></span>Playbooks · 13</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-bundles);"></span>Bundles · 11</div>
                            <div class="arch-pill"><span class="arch-pill-dot" style="background-color: var(--color-agents);"></span>Agents · 6</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const entityColors = {
                'Skills': '#38bdf8', 'Recipes': '#4ade80', 'Content Types': '#fbbf24', 'Metrics': '#c084fc', 'KB Items': '#f87171',
                'Styles': '#a78bfa', 'Tools': '#fb923c', 'Prompts': '#f472b6', 'Channels': '#60a5fa', 'Rubrics': '#a3e635',
                'Schemas': '#34d399', 'Playbooks': '#2dd4bf', 'Bundles': '#67e8f9', 'Lint Rules': '#e879f9', 'Agents': '#818cf8', 'Lint Rulesets': '#eab308'
            };

            // Animated Counters
            const counters = document.querySelectorAll('.stat-value');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = +counter.getAttribute('data-target');
                        let count = 0;
                        const duration = 1500;
                        const stepTime = Math.abs(Math.floor(duration / target));

                        const timer = setInterval(() => {
                            count += Math.ceil(target / (duration / 16));
                            if (count >= target) {
                                counter.innerText = target.toLocaleString();
                                clearInterval(timer);
                            } else {
                                counter.innerText = count.toLocaleString();
                            }
                        }, 16);
                        observer.unobserve(counter);
                    }
                });
            }, { threshold: 0.5 });
            counters.forEach(counter => observer.observe(counter));

            // Section 2: Entity Distribution Chart
            const entityData = [
                { type: 'Skills', count: 160 }, { type: 'Recipes', count: 118 }, { type: 'Content Types', count: 113 },
                { type: 'Metrics', count: 55 }, { type: 'KB Items', count: 54 }, { type: 'Styles', count: 48 },
                { type: 'Tools', count: 42 }, { type: 'Prompts', count: 31 }, { type: 'Channels', count: 27 },
                { type: 'Rubrics', count: 25 }, { type: 'Schemas', count: 21 }, { type: 'Playbooks', count: 13 },
                { type: 'Bundles', count: 11 }, { type: 'Lint Rules', count: 8 }, { type: 'Agents', count: 6 }, { type: 'Lint Rulesets', count: 3 }
            ];
            new Chart(document.getElementById('entityDistributionChart'), {
                type: 'bar',
                data: {
                    labels: entityData.map(d => d.type),
                    datasets: [{
                        label: 'Entity Count',
                        data: entityData.map(d => d.count),
                        backgroundColor: entityData.map(d => entityColors[d.type]),
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false }, tooltip: { enabled: true } },
                    scales: {
                        x: { beginAtZero: true, grid: { color: 'rgba(255, 255, 255, 0.1)' }, ticks: { color: '#a1a1aa' } },
                        y: { grid: { display: false }, ticks: { color: '#a1a1aa' } }
                    },
                    animation: {
                        onComplete: () => {},
                        delay: (context) => context.dataIndex * 50,
                    }
                }
            });

            // Section 2: Link Graph Table
            const linkData = [
                { type: 'requires', count: 714, color: '#ef4444' }, { type: 'recommends', count: 555, color: '#3b82f6' },
                { type: 'related', count: 506, color: '#84cc16' }, { type: 'uses_tool', count: 210, color: '#f97316' },
                { type: 'uses_prompt', count: 125, color: '#ec4899' }, { type: 'bundle_member', count: 107, color: '#14b8a6' },
                { type: 'uses_kb', count: 70, color: '#d946ef' }, { type: 'alternate', count: 67, color: '#eab308' },
                { type: 'pairs_with', count: 59, color: '#0ea5e9' }, { type: 'often_follows', count: 9, color: '#8b5cf6' },
                { type: 'prerequisite', count: 2, color: '#64748b' }, { type: 'parent', count: 1, color: '#a1a1aa' }
            ];
            const maxLinkCount = Math.max(...linkData.map(d => d.count));
            const linkList = document.getElementById('linkGraphList');
            linkData.forEach(link => {
                const li = document.createElement('li');
                li.className = 'link-item';
                li.innerHTML = `
                    <div><span class="link-badge" style="background-color: ${link.color}20; color: ${link.color};">${link.type}</span></div>
                    <div class="link-bar-container"><div class="link-bar" style="width: ${(link.count / maxLinkCount) * 100}%; background-color: ${link.color};"></div></div>
                    <div class="link-count">${link.count}</div>
                `;
                linkList.appendChild(li);
            });
            
            // Section 4: Tag Namespace Coverage
            const tagData = [
                { name: 'scope', value: 733 }, { name: 'status', value: 732 }, { name: 'modality', value: 473 }, { name: 'format', value: 426 },
                { name: 'channel', value: 248 }, { name: 'source', value: 232 }, { name: 'domain', value: 227 }, { name: 'action', value: 175 },
                { name: 'family', value: 115 }, { name: 'stage', value: 103 }, { name: 'surface', value: 78 }, { name: 'partner', value: 65 },
                { name: 'tool_type', value: 52 }, { name: 'provider', value: 46 }, { name: 'dept', value: 16 }, { name: 'persona_role', value: 6 }
            ];
            const maxTagValue = Math.max(...tagData.map(d => d.value));
            const tagGrid = document.getElementById('tagCoverageGrid');
            tagData.forEach(tag => {
                const opacity = tag.value / maxTagValue;
                const cell = document.createElement('div');
                cell.className = 'tag-cell';
                cell.style.setProperty('--cell-bg', `rgba(192, 132, 252, ${opacity * 0.8 + 0.1})`);
                cell.innerHTML = `<span class="name">${tag.name}</span> <span class="value">${tag.value}</span>`;
                tagGrid.appendChild(cell);
            });

            // Section 4: Artifact Health Chart
            new Chart(document.getElementById('artifactHealthChart'), {
                type: 'doughnut',
                data: {
                    labels: ['With Artifacts', 'Without Artifacts'],
                    datasets: [{
                        data: [850, 770],
                        backgroundColor: ['#2dd4bf', '#374151'],
                        borderColor: 'transparent',
                        borderWidth: 4,
                        hoverOffset: 8
                    }]
                },
                options: {
                    responsive: true,
                    cutout: '80%',
                    plugins: { legend: { display: false }, tooltip: { enabled: true } }
                }
            });
            
            const artifactBreakdownData = [
                { name: 'Skills', count: 271 }, { name: 'Recipes', count: 118 }, { name: 'Content Types', count: 113 },
                { name: 'Metrics', count: 59 }, { name: 'KB Items', count: 54 }, { name: 'Styles', count: 48 },
                { name: 'Tools', count: 39 }, { name: 'Prompts', count: 31 }, { name: 'Channels', count: 30 }, { name: 'Rubrics', count: 25 }
            ];
            const artifactList = document.getElementById('artifactBreakdownList');
            artifactBreakdownData.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <div class="artifact-dot" style="background-color: ${entityColors[item.name]};"></div>
                    <span>${item.name}</span>
                    <span style="margin-left: auto; color: #a1a1aa;">${item.count}</span>
                `;
                artifactList.appendChild(li);
            });

            // Section 5: App Portfolio
            const portfolioData = [
                { tier: 'Untiered', count: 185, color: '#4b5563' },
                { tier: 'Tier 1', count: 5, color: '#06b6d4' },
                { tier: 'Tier 2', count: 8, color: '#4f46e5' },
                { tier: 'Tier 3', count: 8, color: '#9333ea' },
                { tier: 'Tier 4', count: 2, color: '#db2777' },
            ];
            const totalApps = portfolioData.reduce((sum, d) => sum + d.count, 0);
            const portfolioContainer = document.getElementById('appPortfolio');
            portfolioData.forEach(item => {
                const block = document.createElement('div');
                block.className = 'portfolio-block';
                block.style.flexGrow = item.count;
                block.style.backgroundColor = item.color;
                block.textContent = `${item.tier} (${item.count})`;
                portfolioContainer.appendChild(block);
            });
        });
    </script>
</body>
</html>